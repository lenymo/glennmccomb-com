var ArticleSummaryHover=function(){function e(){var e,o;if(Helpers.getViewportWidth()>=l.onlyRunAbove&&0==Helpers.isIE()&&(e=document.querySelectorAll(l.selectors.articleSummary)))for(var a=0;a<e.length;a++)o=e[a],o.addEventListener("mousemove",t),o.addEventListener("mouseenter",n),o.addEventListener("mouseleave",r)}function t(e){var t,n,r,i,l,c;n=e.pageX,r=e.pageY,t=this,i=this.getBoundingClientRect(),l=o(i,n),c=a(i,r),s(t,i,l,c)}function n(){var e;e=this,e.classList.add(l.mouseOverToggleClass)}function r(){var e;e=this,e.style.transform="",e.querySelector(l.selectors.featuredImage).style.transform="",e.classList.remove(l.mouseOverToggleClass)}function o(e,t){var n,r,o;return n=e.left,r=t-n,o=r/e.width,o=o.toFixed(2),o-=.5,o*=l.transformModX}function a(e,t){var n,r,o,a;return n=document.documentElement.scrollTop,r=n+e.top,o=t-r,a=o/e.height,a=a.toFixed(2),a-=.5,a*=l.transformModY,a*=-1}function s(e,t,n,r){var o,a,s;n>-.5*l.transformModX-1&&n<.5*l.transformModX+1&&r>-.5*l.transformModY-1&&r<.5*l.transformModY+1&&(o="perspective("+t.width/2+"px) ",o+="scale("+l.transformScale+") ",o+="rotateY("+n+"deg) ",o+="rotateX("+r+"deg)",e.style.transform=o),(a=e.querySelector(l.selectors.featuredImage))&&(s="scale(1.025) ",s+="translateX("+8*n*-1+"px) ",s+="translateY("+6*r+"px) ",a.style.transform=s)}function i(){e()}var l={onlyRunAbove:992,transformModX:1,transformModY:1.5,transformPerspective:"600px",transformScale:1.01,mouseOverToggleClass:"-is-being-hovered",selectors:{articleSummary:".article-summary",featuredImage:".article-summary__featured-image"}};return{init:i}}(),HandleContactForm=function(){function e(){var e;null!==(e=document.querySelector(".form__contact"))&&e.length>0&&e.addEventListener("submit",t)}function t(e){e.preventDefault();var t,r,a,s,i,l,c=!1;t=o.sendingClass,r=o.sentClass,a=o.doneClass,s=o.thanksClass,i=o.sendingDelay;var u=this,d=u.action,f=document.querySelector(".form__field--name"),m=document.querySelector(".form__field--email"),v=document.querySelector(".form__field--message"),g=document.querySelector(".form__field--phone"),h=f.value,p=m.value,y=v.value;g.value;if(l=document.querySelector(".form__error"),c=n(y),console.log(c),c){l.innerHTML="",u.classList.add(t);var L="?form-name=contact";L+="&name="+h,L+="&email="+p,L+="&message="+y;var S=d+L;S=encodeURI(S);var b=new XMLHttpRequest;b.open("POST",S,!0),b.onload=function(){b.status>=200&&b.status<400&&(setTimeout(function(){u.classList.add(r)},i),setTimeout(function(){u.classList.add(a)},2*i),setTimeout(function(){u.classList.add(s),f.value="",m.value="",v.value="",m.classList.remove("-has-text"),u.reset()},3*i))},b.onerror=function(){},b.send()}else l&&(l.innerHTML="Sorry but your message was deemed to be spam.")}function n(e){var t,n,r=!0,a=o.antiSpamKeywords;n=e.toLowerCase();for(var s=0;s<a.length;s++)t=a[s],n.indexOf(t)>=0&&(r=!1,console.log("Anti-span keyword "+t+" was found in the message."));return r}function r(){e()}var o={sendingClass:"-is-sending",sentClass:"-is-sent",doneClass:"-is-done",thanksClass:"-is-thankful",sendingDelay:1e3,antiSpamKeywords:["loan","income","cash","alexa","seo","bit.ly","lender","payday","viagra"]};return{init:r}}(),ExpandableCodeBlocks=function(){function e(){var e,t,n,r,o,a;if(e="-is-expandable",t=document.querySelectorAll(".highlight"))for(var s=0;s<t.length;s++)n=t[s],r=n.offsetWidth,o=n.querySelector("code"),o&&(a=o.offsetWidth),r&&a&&a>r&&n.classList.add(e)}function t(){e()}return{init:t}}(),HandleForms=function(){function e(){var e=document.querySelectorAll("input, select, textarea"),t=document.querySelectorAll(".form");if(e.length>0&&t.length>0)for(var n=0;n<e.length;n++)e[n].addEventListener("invalid",function(e){this.classList.add("-has-error"),this.parentElement.classList.add("-field-has-error")}),e[n].addEventListener("blur",function(e){this.checkValidity()})}function t(){var e=document.querySelectorAll('input[type="email"]');if(e.length>0)for(var t=0;t<e.length;t++)e[t].addEventListener("input",function(e){this.value.length>0?this.classList.add("-has-text"):this.classList.remove("-has-text")})}function n(){var e,t=document.querySelectorAll("select");if(t.length>0)for(var n=0;n<t.length;n++)t[n].addEventListener("focus",function(t){e=this.parentElement,e.classList.add("-has-focus")}),t[n].addEventListener("blur",function(t){e=this.parentElement,e.classList.remove("-has-focus")})}function r(){e(),t(),n()}return{init:r}}(),Helpers=function(){function e(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)}function t(){var e=!1;return/MSIE 10/i.test(navigator.userAgent)&&(e=10),(/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent))&&(e=11),/Edge\/\d./i.test(navigator.userAgent)&&(e="edge"),e}return{getViewportWidth:e,isIE:t}}(),HandleLinks=function(){function e(){for(var e,t,n=document.links,r=n.length,o=window.location.hostname,a=0;a<r;a++)e=n[a],t=e.href,e.hostname!=o&&"javascript:void(0)"!==t&&"javascript:void(0);"!==t&&(e.target="_blank")}function t(){e()}return{init:t}}(),LqipImages=function(){function e(){var e,t,n,r,o,a;window.onload=function(){e=document.querySelectorAll(".lqip");for(var s=0;s<e.length;s++)t=e[s],n=t.parentElement,r=n.parentElement,r.classList.add("-image-is-loading"),o=r.dataset.full,a=null,a=new Image,a.onload=function(){n=this.parentElement,r=n.parentElement,r.classList.add("-image-has-loaded"),r.classList.remove("-image-is-loading")},a.src=o,a.classList.add("lqip__full-image"),n.insertBefore(a,t)}}function t(){e()}return{init:t}}(),ToggleMobileMenu=function(){function e(){function e(){for(var e=!1,t=document.querySelector("body"),n=t.classList,r=0;r<n.length;r++)if("site-nav-is-open"==n[r]){e=!0;break}e?t.classList.remove("site-nav-is-open"):t.className+=" site-nav-is-open"}var t=document.querySelector(".site-nav__nav-toggle");t&&t.addEventListener("click",e,!1)}function t(){e()}return{init:t}}(),ObjectFitPolyfill=function(){function e(){t()&&n()}function t(){return"objectFit"in document.documentElement.style==!1}function n(){var e,t,n,r;if(e=document.querySelectorAll(".-is-object-fit-parent"))for(var o=0;o<e.length;o++)t=e[o],r=t.querySelector(".-uses-object-fit"),n=void 0!==r.dataset?r.dataset.source:r.getAttribute("data-source"),r.style.display="none",t.style.backgroundImage="url("+n+")"}function r(){e()}return{init:r}}(),ParallaxHover=function(){function e(){var e,o;if(Helpers.getViewportWidth()>=l.onlyRunAbove&&!1===Helpers.isIE()&&(e=document.querySelectorAll(l.selectors.wrapper)))for(var a=0;a<e.length;a++)o=e[a],o.addEventListener("mousemove",t),o.addEventListener("mouseenter",n),o.addEventListener("mouseleave",r)}function t(e){var t,n,r,i,c,u;t=this,t.classList.contains(l.photography.className)&&(l.transformScale=l.photography.transformScale,l.transformModX=l.photography.transformModX,l.transformModY=l.photography.transformModY),n=e.pageX,r=e.pageY,i=this.getBoundingClientRect(),c=o(i,n),u=a(i,r),s(t,i,c,u)}function n(){var e;e=this,e.classList.add(l.mouseOverToggleClass)}function r(){var e,t;e=this,e.style.transform="",t=e.querySelector(l.selectors.featuredImage),t&&(t.style.transform=""),e.classList.remove(l.mouseOverToggleClass)}function o(e,t){var n,r,o;return n=e.left,r=t-n,o=r/e.width,o=o.toFixed(2),o-=.5,o*=l.transformModX}function a(e,t){var n,r,o,a;return n=window.scrollY,r=n+e.top,o=t-r,a=o/e.height,a=a.toFixed(2),a-=.5,a*=l.transformModY,a*=-1}function s(e,t,n,r){var o,a,s;n>-.5*l.transformModX-1&&n<.5*l.transformModX+1&&r>-.5*l.transformModY-1&&r<.5*l.transformModY+1&&(o="perspective("+t.width/2+"px) ",o+="scale("+l.transformScale+") ",o+="rotateY("+n+"deg) ",o+="rotateX("+r+"deg)",e.style.transform=o),(a=e.querySelector(l.selectors.featuredImage))&&(s="scale(1.025) ",s+="translateX("+8*n*-1+"px) ",s+="translateY("+6*r+"px) ",a.style.transform=s)}function i(){e()}var l={onlyRunAbove:992,transformModX:1,transformModY:1.5,transformPerspective:"600px",transformScale:1.01,mouseOverToggleClass:"-is-being-hovered",selectors:{wrapper:".parallax-hover",featuredImage:".parallax-hover__featured-image"},attributes:{scale:"parallax-hover-scale"},photography:{transformScale:1.03,transformModX:2,transformModY:1.5,className:"photography-summary__wrapper"}};return{init:i}}(),TableOfContents=function(){function e(){var e=document.querySelector(".table-of-contents"),t=document.querySelector(".table-of-contents__toggle");t&&t.addEventListener("click",function(t){e.classList.contains("-is-expanded")?e.classList.remove("-is-expanded"):e.classList.add("-is-expanded")})}function t(){e()}return{init:t}}();!function(){ToggleMobileMenu.init(),HandleLinks.init(),HandleForms.init(),HandleContactForm.init(),TableOfContents.init(),ParallaxHover.init(),ObjectFitPolyfill.init(),ExpandableCodeBlocks.init(),LqipImages.init()}();